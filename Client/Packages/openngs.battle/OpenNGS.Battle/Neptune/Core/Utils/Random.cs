// ------------------------------------------------------------------------------
//  <autogenerated>
//      This code was generated by a tool.
//      Mono Runtime Version: 4.0.30319.1
// 
//      Changes to this file may cause incorrect behavior and will be lost if 
//      the code is regenerated.
//  </autogenerated>
// ------------------------------------------------------------------------------
using UnityEngine;

namespace Util
{
    static public class Random
    {
        public static uint seedCache = 0;
        static uint multiplier = 360889;
        static uint moder = 2097143;//2^21 - 9 
        static uint random_seed = 1;

        static public float Rand()
        {
            long next_seed = RandSeed(moder);
            float ret = (float)((double)next_seed / (double)moder);

            //if (Logger.EnableBattleLog)
            //    Logger.LogCombat("Rand:" + ret);

            return ret;
        }

        static uint RandSeed(uint moder)
        {
            uint next_seed = random_seed * multiplier % moder;
            random_seed = next_seed;
            return next_seed;
        }
        /// <summary>
        /// 返回0 ~ (max-1)的随机一个值
        /// </summary>
        /// <param name="max"></param>
        /// <returns></returns>
        static public uint Range(uint max)
        {
            uint next_seed = RandSeed(moder);
            uint ret = (max * next_seed) / moder;
            //if (Logger.EnableBattleLog)
            //    Logger.LogCombat("RandRange:" + ret);
            return ret;
        }

        static public void Srand(int seed)
        {
            if (seed == 0)
            {
                //Debug.LogError("Error:srand(0)");
                seed = 1;
            }
            seedCache = (uint)seed;
            random_seed = (uint)seed;
            random_seed = random_seed % moder;

            //if (Logger.EnableBattleLog)
            //    Logger.LogCombat("random seed: " + random_seed);
        }
    }
}

